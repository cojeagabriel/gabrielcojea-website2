@import '_variables.scss';

#sidenav{
    position: fixed;
    z-index: 6;
    top: 0;
    right: 0;
    height: 100vh;
    width: 0;
    background-color: $white-grey;
    transition: width 0.5s cubic-bezier(0.16, 1, 0.3, 1);
    overflow: hidden;
}

.sidenav-container{
    position: absolute;
    top: 0;
    right: 0;
    width: 100vw;
    height: 100vh;

    .logo{
        position: absolute;
        top: 0;
        left: 0;
    }

    .social-media{
        position: absolute;
        left: 0;
        bottom: 24px;
        width: 144px;
    }
}

.sidenav-nav-container{
    position: relative;
    height: 100vh;
    margin-left: auto;

    &::before{
        content: '';
        position: absolute;
        left: 0;
        top: 0;
        width: 1px;
        height: 100vh;
        background-color: rgba($dark-blue, 0.16);
        opacity: 0;
        transform: translate3d(48px, 0, 0);
        transition: transform 1.2s cubic-bezier(0.16, 1, 0.3, 1), opacity 1.2s cubic-bezier(0.16, 1, 0.3, 1);
    }
}

.sidenav-nav{
    position: absolute;
    top: 50%;
    right: 0;
    display: flex;
    flex-direction: column;
    justify-content: center;
    width: 100%;
    transform: translate3d(0, -50%, 0);
}

.sidenav-item{
    display: flex;

    @for $i from 0 through 3 {
        &:nth-child(#{1 + $i}){
            .sidenav-link{
                &::before {
                    content: '0#{1 + $i}';
                }
            }
        }
    }
}

.sidenav-link{
    position: relative;
    display: inline-block;
    width: 100%;
    box-sizing: border-box;
    padding-right: 48px;
    color: $dark-blue;
    transition: opacity 0.6s $easeOutQuart;

    &::before{
        position: absolute;
        right: 100%;
        bottom: 28px;
        font-family: $font-primary;
        font-size: 0.8rem;
        padding-right: 0.8rem;
        opacity: 0;
        transform: translate(0, 24px);
        transition: transform 0.6s cubic-bezier(0.215, 0.61, 0.355, 1), opacity 0.6s cubic-bezier(0.215, 0.61, 0.355, 1);
    }

    .text-container{
        position: relative;
        flex-grow: 1;
        text-align: right;
        overflow: hidden;

        &::after{
            content: '';
            position: absolute;
            left: 100%;
            width: 30px;
            height: 30px;
            border: solid 3px $dark-blue;
            transform-origin: 50% 50%;
            transform: translate3d(48px, 24px, 0) rotate(45deg);
            transition: all 0.6s $easeOutQuart;
        }

        span{
            display: inline-block;
            height: 4.9rem;
            font-size: 3rem;
            line-height: 4.9rem;
            font-family: $font-secondary;
        }

        .intro-animation-container{
            transform: translate3d(100%, 0, 0);
            transition: transform 0.6s cubic-bezier(0.215, 0.61, 0.355, 1);
        }

        .hover-animation-container{
            width: 12rem;
            transition: transform 0.6s $easeOutQuart;
        }
    }
}

.hand-of-adam{
    top: 0;
    left: calc(22vw + 17.5vh);
    width: 50vh;
    height: 50vh;
    clip-path: url(#hand-of-adam);
    transform: translate3d(0, -$hand-translate-x, 0);
    transition: transform $hands-transition-duration $hands-transition-easing;
    
    .background{
        left: calc(-22vw - 17.5vh);
        transform: translate3d(0, $hand-translate-x, 0);
    }
}

.hand-of-god{
    top: 52.8vh;
    left: calc(22vw + 9vh);
    bottom: 0;
    width: 50vh;
    height: 50vh;
    clip-path: url(#hand-of-god);
    transform: translate3d(0, $hand-translate-x, 0);
    transition: transform $hands-transition-duration $hands-transition-easing;

    .background{
        top: -52.75vh;
        left: calc(-22vw - 9vh);
        transform: translate3d(0, -$hand-translate-x, 0);
    }
}



#sidenav.open{
    width: 100%;

    .hand-of-god,
    .hand-of-adam{
        transform: translate3d(0, 0, 0);

        .background{
            transform: translate3d(0, 0, 0);
        }
    }

    .sidenav-nav-container{
        &::before{
            transform: translate3d(0, 0, 0);
            opacity: 1;
        }
    }

    .sidenav-item{
        @for $i from 0 through 3 {
            &:nth-child(#{1 + $i}){
                .sidenav-link{
                    .text-container{
                        .intro-animation-container{
                            transition-delay: 0.05s * $i + 0.3s;
                        }
                    }
                
                    &::before{
                        opacity: 1;
                        transform: translate3d(0, 0, 0);
                        transition-delay: 0.05s * $i + 0.3s;
                    }
                }
            }
        }
    }

    .sidenav-link{
        .text-container{
            .intro-animation-container{
                transform: translate3d(0, 0, 0);
            }
        }
    }
}

#sidenav.closing{
    .hand-of-god,
    .hand-of-adam{
        transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
    }

    .hand-of-god{
        transform: translate3d(0, $hand-translate-x, 0);

        .background{
            transform: translate3d(0, -$hand-translate-x, 0);
        }
    }

    .hand-of-adam{
        transform: translate3d(0, -$hand-translate-x, 0);

        .background{
            transform: translate3d(0, $hand-translate-x, 0);
        }
    }
}



@media (hover: hover) and (pointer: fine) {

    .sidenav-link{
        &:hover{
            &::before{
                opacity: 1;
            }

            .text-container{
                .hover-animation-container{
                    transform: translate3d(-32px, 0, 0);
                }

                &::after{
                    transform: translate3d(-6px, 24px, 0) rotate(45deg)
                }
            }
        }
    }

    .sidenav-nav{
        &:hover{
            .sidenav-item{
                .sidenav-link{
                    &:not(:hover){
                        opacity: 0.32;
                    }
                }
            }
        }
    }

}



@include for-phone-only{

    .sidenav-container{
        .social-media{
            display: none;
        }
    }

    .sidenav-nav-container{
        width: calc(100vw - 72px);
    }

}

@include for-phone-landscape-only{

    .sidenav-container{
        .social-media{
            bottom: 0;
            width: auto;

            .social-media-text{
                display: none;
            }

            .social-media-link{
                margin: 24px 16px;
            }
        }
    }

    .sidenav-nav-container{
        width: 40.5vw !important;
    }

    .sidenav-link{
        padding-right: 72px !important;

        &::before{
            bottom: 16px !important;
        }

        .text-container{
            span{
                font-size: 2rem;
                height: 3.3rem;
                line-height: 3.3rem;
            }
        }
    }

    .hand-of-adam{
        left: calc(32vw - 25vh + 17.5vh);
        
        .background{
            left: calc(-32vw + 25vh - 17.5vh);
        }
    }

    .hand-of-god{
        left: calc(32vw - 25vh + 9vh);

        .background{
            left: calc(-32vw + 25vh - 9vh);
        }
    }
    
}

@include for-tablet-portrait-up{

    .sidenav-nav-container{
        width: 50vw;
    }

    .sidenav-link{
        padding-right: 120px;

        &::before{
            bottom: 24px;
        }
    }

}

@include for-tablet-landscape-up{

    .sidenav-nav-container{
        width: 33vw;
    }

}